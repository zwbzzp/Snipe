基于池的桌面管理
=================================

基于池的桌面管理把所有的桌面放入到池中，以池为管理单位，进行桌面的申请、创建、回收等操作。


基本概念
---------------------------------

桌面池
    一个管理单位，包括默认桌面配置，如 vcpu 个数、网络、内存等，桌面的最大数量，
    还包括桌面的管理方式，如开启策略、回收策略、休眠策略

桌面池操作
    创建，创建一个桌面池；
    开启，按照桌面池管理配置，创建桌面并允许桌面申请；
    回收，将空闲的桌面回收，然后关闭或销毁；
    休眠，回收并停止桌面申请；
    
桌面
    后端指向一个 vm 。这个 vm 可按需要创建。
    如果在桌面池中申请桌面，那么使用桌面池的桌面配置创建。
    如果用户拥有桌面池的所有或管理权限，那么在申请桌面时可指定 vm 配置
    
桌面状态
    桌面状态有 2 个，一个是电源状态，电源状态表明 vm 是否已开机运行；
    一个是系统状态，由 agent 报告当前系统是否已启动，是否有用户登录等。
    

系统流程
--------------------------------

桌面池创建 ::

    用户创建桌面池，选择网络、配置、最大数量等，从其它桌面池复制配置等；
    （上层业务，创建课程表，并关联桌面池，1:1 关联）
    为桌面池添加操作策略

桌面申请 ::

    用户打开客户端，并登录获取 token
    客户端请求桌面
    系统查找用户的桌面池，当桌面池开启时，向桌面池申请桌面
    任务系统创建桌面，并返回当前桌面状态
    系统返回桌面的列表
    用户连接到桌面