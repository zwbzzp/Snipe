项目会议 20160107
===================

会议目标：讨论重构架构和业务概念

参与人员：李培钊、冯英才

会议内容：

1. 明确分层
    从物理上分层，可对系统分为：

    1. 物理设施层（L0）。以物理资源为核心，管理物理服务器、部署、扩容、物理层面监控，进行 openstack 应用部署等工作

    2. 虚拟设施层（L1）。以虚拟资源管理为核心，提供一个管理的 dashboard ，完善 horizon 中缺乏的功能

    3. 领域逻辑层（L2）。用桌面的概念进行 VM 包装，并提供 VDI 业务中核心概念接口

    4. 行业应用层（L3）。基于不同的行业，提供不同的应用概念，如教育行业的课程、课室、课表、教师、共享课程存储等

    5. 通用领域层（LN）。提供安全机制、调度、工具等等。

2. 讨论开发方式和功能安排
    按照目前的情况，对各层的总结：L0层可通过手工部署完成；L1层目前先使用 horizon ，后期再进行定制；L2层是最需要进行重构的，前期应把大部分的工作放在这里面；L3层在基于L2层上进行定制，可重用页面的设计、部分业务逻辑。

    因此，以 L2 层为重点，前期主要进行 L2 层的重构设计。

3. 讨论 L3 到 L2 的处理案例
    L3 层定义一个课程，挑选课程时间、模板、配置、网络、课程共享存储、创建策略、启动策略、关闭策略等，然后映射到 L2 的桌面组，和调度任务。

    L2 层根据调度任务，和策略处理器，处理任务。

4. 配额和资源限制的问题
    L2 基于 L1 上的一个 tenant 来实现，所有的操作会限制到 tenant 上，不使用管理员账户。

    整个 VDI 环境使用同一个 tenant 的资源，然后在 L2 实现一个资源管理的接口，内部管理资源配额（尽量简单明了）。
