phoenix 管理系统部署
=============================

目前管理系统的部署以 shell 脚本形式进行，共分为两个部分：准备离线部署包、离线部署

支持的系统为 ubuntu 系列，目前为14.04

部署脚本在源代码目录为 `tools/deploy`

安装设置
------------------------------

在目录下的 localrc


离线安装包
------------------------------

更新 setuptools 和 pip ::

    pip3 install --upgrade setuptools
    pip3 install --upgrade pip

在部署脚本中的 `tools/` 目录下，有生成离线安装包的脚本 `make_source.sh`

运行 `make_source.sh` ，会在部署脚本目录下生成 archives 目录，里面包含可用于不同 ubuntu 版本的离线安装包

如果只下载源代码并编译则运行 `clone_source.sh`

开始安装
------------------------------

修改部署目录下的 localrc 配置文件，然后运行 `run.sh` 即可完成整个系统的安装

如果系统已安装，则会更新到最新版本

卸载
------------------------------

TODO

注意
------------------------------

已启用 alembic 进行数据库版本管理,上传时需要注意不要把未严格验证的 migration 脚本上传

部署时，如果有调度任务在后台执行，那么这个时候可能会导致任务中断，并因为数据不同步导致无法恢复该任务
