用户操作日志
===================================

概述
-----------------------------------

用户操作日志用于记录用户通过系统界面对系统进行的各种操作。用户操作日志会以数据库记录的形式记录在数据库中，并且可以通过管理系统的系统日志模块查看


需要记录的模块和操作
-----------------------------------

如下系统模块和操作需要记录用户操作日志

1. 用户管理模块

    * 创建用户

    * 修改用户信息

    * 单独或批量删除用户

    * 更改用户状态

    * 批量导入/导出用户列表

    * 重置密码

    * 认证用户

2. 课程管理模块

    * 创建课程

    * 手动启动课程

    * 手动关闭课程

    * 延时课程

    * 更新课程

    * 删除课程

    * 添加课时

    * 删除课时

    * 向课程学生名单中添加学生(单独或批量添加)

    * 把学生从课程名单中删除

3. 桌面管理模块

    课程桌面:

    * 重启桌面

    * 续租桌面

    * 还原桌面

    * 删除桌面

    固定桌面:

    * 单独/批量创建桌面

    * 启动桌面

    * 还原桌面

    * 关闭桌面

    * 单独/批量删除桌面

4. 镜像管理模块

    * 生成实例

    * 生成镜像

    * 更新镜像

    * 删除镜像

    * 实例开机

    * 实例关机

    * 删除实例

    * 创建快照

5. 存储管理模块

    * 关联共享文件服务器

    * 更新共享文件服务器

    * 删除共享文件服务器

    * 关联共享文件夹账号

    * 更新共享文件夹账号

    * 删除共享文件夹账号

    * 创建个人文件服务器

    * 更新个人文件服务器

    * 单独或批量删除个人文件服务器

    * 单独或批量创建个人文件夹账号

    * 更新个人文件夹账号

    * 单独或批量删除个人文件夹账号

6. 调度任务模块

    * 单独或批量重做任务

    * 单独或批量重置任务

    * 单独或批量删除任务

7. 系统配置模块

    课程时间表

    * 编辑并保存时间表

    * 添加时段

    * 删除时段

    桌面配置

    * 创建配置

    * 修改配置

    * 单独或批量删除配置

    系统参数

    * 修改并保存系统参数

    产品许可信息

    * 上传许可文件

    * 单独或批量更新许可信息

    * 激活管理系统

用户操作日志添加方法
-----------------------------------

步骤一: 初始化日志实例，在需要添加用户日志的视图页面头部，即 import 声明之下，视图函数之上添加以下初始化语句 ::

    ua_logger = UserActionLogger()

步骤二: 在需要添加用户操作日志的地方添加用户操作日志，第一个参数是发起操作的用户对象，第二个参数是日志信息。注意，日志信息是提供给系统管理员查看的，所以一般会使用中文 ::

    ua_logger.info(user, "登录系统")


已知问题和扩展
----------------------------------

无